!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("ol/style/Circle.js"),require("ol/style/Fill.js"),require("ol/style/Icon.js"),require("ol/render/Feature.js"),require("ol/style/Stroke.js"),require("ol/style/Style.js"),require("ol/style/Text.js"),require("ol/render/canvas.js"),require("ol/obj.js"),require("ol/format/GeoJSON.js"),require("ol/format/MVT.js"),require("ol/Map.js"),require("ol/tilegrid/TileGrid.js"),require("ol/source/TileJSON.js"),require("ol/layer/Tile.js"),require("ol/layer/Vector.js"),require("ol/source/Vector.js"),require("ol/layer/VectorTile.js"),require("ol/source/VectorTile.js"),require("ol/View.js"),require("ol/tilegrid.js"),require("ol/proj.js")):"function"==typeof define&&define.amd?define(["ol/style/Circle.js","ol/style/Fill.js","ol/style/Icon.js","ol/render/Feature.js","ol/style/Stroke.js","ol/style/Style.js","ol/style/Text.js","ol/render/canvas.js","ol/obj.js","ol/format/GeoJSON.js","ol/format/MVT.js","ol/Map.js","ol/tilegrid/TileGrid.js","ol/source/TileJSON.js","ol/layer/Tile.js","ol/layer/Vector.js","ol/source/Vector.js","ol/layer/VectorTile.js","ol/source/VectorTile.js","ol/View.js","ol/tilegrid.js","ol/proj.js"],t):"object"==typeof exports?exports.olms=t(require("ol/style/Circle.js"),require("ol/style/Fill.js"),require("ol/style/Icon.js"),require("ol/render/Feature.js"),require("ol/style/Stroke.js"),require("ol/style/Style.js"),require("ol/style/Text.js"),require("ol/render/canvas.js"),require("ol/obj.js"),require("ol/format/GeoJSON.js"),require("ol/format/MVT.js"),require("ol/Map.js"),require("ol/tilegrid/TileGrid.js"),require("ol/source/TileJSON.js"),require("ol/layer/Tile.js"),require("ol/layer/Vector.js"),require("ol/source/Vector.js"),require("ol/layer/VectorTile.js"),require("ol/source/VectorTile.js"),require("ol/View.js"),require("ol/tilegrid.js"),require("ol/proj.js")):e.olms=t(e.ol.style.Circle,e.ol.style.Fill,e.ol.style.Icon,e.ol.render.Feature,e.ol.style.Stroke,e.ol.style.Style,e.ol.style.Text,e.ol.render.canvas,e.ol.obj,e.ol.format.GeoJSON,e.ol.format.MVT,e.ol.Map,e.ol.tilegrid.TileGrid,e.ol.source.TileJSON,e.ol.layer.Tile,e.ol.layer.Vector,e.ol.source.Vector,e.ol.layer.VectorTile,e.ol.source.VectorTile,e.ol.View,e.ol.tilegrid,e.ol.proj)}(self,((e,t,r,n,i,a,o,s,u,l,p,c,f,y,d,m,h,v,g,b,x,w)=>(()=>{var k={338:e=>{"use strict";function t(e,t){this.x=e,this.y=t}e.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,i=r*this.x+t*this.y;return this.x=n,this.y=i,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.x+r*(this.x-t.x)-n*(this.y-t.y),a=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=i,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e}},946:e=>{function t(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}e.exports=t,t.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},t.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},t.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},t.prototype.solveCurveX=function(e,t){var r,n,i,a,o;for(void 0===t&&(t=1e-6),i=e,o=0;o<8;o++){if(a=this.sampleCurveX(i)-e,Math.abs(a)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s}if((i=e)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(a=this.sampleCurveX(i),Math.abs(a-e)<t)return i;e>a?r=i:n=i,i=.5*(n-r)+r}return i},t.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},872:(e,t)=>{var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return e<0?0:e>1?1:e}function a(e){return"%"===e[e.length-1]?n(parseFloat(e)/100*255):n(parseInt(e))}function o(e){return"%"===e[e.length-1]?i(parseFloat(e)/100):i(parseFloat(e))}function s(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.G=function(e){var t,i=e.replace(/ /g,"").toLowerCase();if(i in r)return r[i].slice();if("#"===i[0])return 4===i.length?(t=parseInt(i.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===i.length&&(t=parseInt(i.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=i.indexOf("("),l=i.indexOf(")");if(-1!==u&&l+1===i.length){var p=i.substr(0,u),c=i.substr(u+1,l-(u+1)).split(","),f=1;switch(p){case"rgba":if(4!==c.length)return null;f=o(c.pop());case"rgb":return 3!==c.length?null:[a(c[0]),a(c[1]),a(c[2]),f];case"hsla":if(4!==c.length)return null;f=o(c.pop());case"hsl":if(3!==c.length)return null;var y=(parseFloat(c[0])%360+360)%360/360,d=o(c[1]),m=o(c[2]),h=m<=.5?m*(d+1):m+d-m*d,v=2*m-h;return[n(255*s(v,h,y+1/3)),n(255*s(v,h,y)),n(255*s(v,h,y-1/3)),f];default:return null}}return null}}catch(e){}},523:e=>{var t={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},r=" ",n=/(italic|oblique)$/i,i={};e.exports=function(e,a,o){var s=i[e];if(!s){Array.isArray(e)||(e=[e]);for(var u=400,l="normal",p=[],c=0,f=e.length;c<f;++c){var y=e[c].split(" "),d=y[y.length-1].toLowerCase();for(var m in"normal"==d||"italic"==d||"oblique"==d?(l=d,y.pop(),d=y[y.length-1].toLowerCase()):n.test(d)&&(d=d.replace(n,""),l=y[y.length-1].replace(d,"")),t){var h=y.length>1?y[y.length-2].toLowerCase():"";if(d==m||d==m.replace("-","")||h+"-"+d==m){u=t[m],y.pop(),h&&m.startsWith(h)&&y.pop();break}}"number"==typeof d&&(u=d);var v=y.join(r).replace("Klokantech Noto Sans","Noto Sans");-1!==v.indexOf(r)&&(v='"'+v+'"'),p.push(v)}s=i[e]=[l,u,p]}return s[0]+r+s[1]+r+a+"px"+(o?"/"+o:"")+r+s[2]}},619:e=>{e.exports=function e(r,n){if(!r){var i=new t(n);throw Error.captureStackTrace&&Error.captureStackTrace(i,e),i}};var t=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);t.prototype.name="AssertionError"},840:e=>{e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}}},195:e=>{"use strict";e.exports=c},744:e=>{"use strict";e.exports=b},198:e=>{"use strict";e.exports=l},993:e=>{"use strict";e.exports=p},561:e=>{"use strict";e.exports=d},255:e=>{"use strict";e.exports=m},984:e=>{"use strict";e.exports=v},42:e=>{"use strict";e.exports=u},860:e=>{"use strict";e.exports=w},583:e=>{"use strict";e.exports=n},89:e=>{"use strict";e.exports=s},491:e=>{"use strict";e.exports=y},31:e=>{"use strict";e.exports=h},729:e=>{"use strict";e.exports=g},611:t=>{"use strict";t.exports=e},183:e=>{"use strict";e.exports=t},342:e=>{"use strict";e.exports=r},821:e=>{"use strict";e.exports=i},310:e=>{"use strict";e.exports=a},376:e=>{"use strict";e.exports=o},757:e=>{"use strict";e.exports=x},895:e=>{"use strict";e.exports=f}},z={};function S(e){var t=z[e];if(void 0!==t)return t.exports;var r=z[e]={exports:{}};return k[e](r,r.exports,S),r.exports}S.d=(e,t)=>{for(var r in t)S.o(t,r)&&!S.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},S.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),S.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var q={};return(()=>{"use strict";S.r(q),S.d(q,{apply:()=>ri,applyBackground:()=>Wn,applyStyle:()=>Vn,default:()=>ri,getFeatureState:()=>ui,getLayer:()=>ii,getLayers:()=>ai,getSource:()=>oi,recordStyleLayer:()=>qn,renderTransparent:()=>xn,setFeatureState:()=>si,stylefunction:()=>_n});var e={};S.r(e),S.d(e,{array:()=>Qe,color:()=>Ke,number:()=>Ye});var t={};S.r(t),S.d(t,{hcl:()=>mt,lab:()=>dt});var r=S(611),n=S(183),i=S(342),a=S(583),o=S(821),s=S(310),u=S(376),l=S(872),p=function(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n};p.parse=function(e){if(e){if(e instanceof p)return e;if("string"==typeof e){var t=(0,l.G)(e);if(t)return new p(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},p.prototype.toString=function(){var e=this.toArray(),t=e[0],r=e[1],n=e[2],i=e[3];return"rgba("+Math.round(t)+","+Math.round(r)+","+Math.round(n)+","+i+")"},p.prototype.toArray=function(){var e=this,t=e.r,r=e.g,n=e.b,i=e.a;return 0===i?[0,0,0,0]:[255*t/i,255*r/i,255*n/i,i]},p.black=new p(0,0,0,1),p.white=new p(1,1,1,1),p.transparent=new p(0,0,0,0),p.red=new p(1,0,0,1),p.blue=new p(0,0,1,1);const c=p;var f=S(619);function y(e){return"object"==typeof e?["literal",e]:e}function d(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function m(e,t){var r,n,i=y((r=e.default,n=t.default,void 0!==r?r:void 0!==n?n:void 0));return void 0===i&&"resolvedImage"===t.type?"":i}function h(e,t,r){var n=b(e,t),i=["get",e.property];if("categorical"===n&&"boolean"==typeof r[0][0]){f(e.stops.length>0&&e.stops.length<=2);for(var a=["case"],o=0,s=r;o<s.length;o+=1){var u=s[o];a.push(["==",i,u[0]],u[1])}return a.push(m(e,t)),a}if("categorical"===n){for(var l=["match",i],p=0,c=r;p<c.length;p+=1){var h=c[p];g(l,h[0],h[1],!1)}return l.push(m(e,t)),l}if("interval"===n){for(var x=["step",["number",i]],w=0,k=r;w<k.length;w+=1){var z=k[w];g(x,z[0],z[1],!0)}return v(x),void 0===e.default?x:["case",["==",["typeof",i],"number"],x,y(e.default)]}if("exponential"===n){for(var S=void 0!==e.base?e.base:1,q=[d(e),1===S?["linear"]:["exponential",S],["number",i]],_=0,j=r;_<j.length;_+=1){var M=j[_];g(q,M[0],M[1],!1)}return void 0===e.default?q:["case",["==",["typeof",i],"number"],q,y(e.default)]}throw new Error("Unknown property function type "+n)}function v(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function g(e,t,r,n){e.length>3&&t===e[e.length-2]||(n&&2===e.length||e.push(t),e.push(r))}function b(e,t){return e.type?e.type:(f(t.expression),t.expression.interpolated?"exponential":"interval")}function x(e){for(var t=["concat"],r=/{([^{}]+)}/g,n=0,i=r.exec(e);null!==i;i=r.exec(e)){var a=e.slice(n,r.lastIndex-i[0].length);n=r.lastIndex,a.length>0&&t.push(a),t.push(["get",i[1]])}if(1===t.length)return e;if(n<e.length)t.push(e.slice(n));else if(2===t.length)return["to-string",t[1]];return t}function w(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,i=t;n<i.length;n+=1){var a=i[n];for(var o in a)e[o]=a[o]}return e}const k=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);var z=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,n=t;r<n.length;r+=1){var i=n[r],a=i[0],o=i[1];this.bindings[a]=o}};z.prototype.concat=function(e){return new z(this,e)},z.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},z.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};const _=z;var j={kind:"null"},M={kind:"number"},T={kind:"string"},E={kind:"boolean"},C={kind:"color"},A={kind:"object"},I={kind:"value"},F={kind:"collator"},D={kind:"formatted"},O={kind:"resolvedImage"};function P(e,t){return{kind:"array",itemType:e,N:t}}function N(e){if("array"===e.kind){var t=N(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var L=[j,M,T,E,C,D,A,P(I),O];function R(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!R(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,n=L;r<n.length;r+=1)if(!R(n[r],t))return null}return"Expected "+N(e)+" but found "+N(t)+" instead."}function V(e,t){return t.some((function(t){return t.kind===e.kind}))}function U(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var G=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};G.prototype.compare=function(e,t){return this.collator.compare(e,t)},G.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};const J=G;var W=function(e,t,r,n,i){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i},Z=function(e){this.sections=e};Z.fromString=function(e){return new Z([new W(e,null,null,null,null)])},Z.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},Z.factory=function(e){return e instanceof Z?e:Z.fromString(e)},Z.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},Z.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];if(n.image)e.push(["image",n.image.name]);else{e.push(n.text);var i={};n.fontStack&&(i["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(i["font-scale"]=n.scale),n.textColor&&(i["text-color"]=["rgba"].concat(n.textColor.toArray())),e.push(i)}}return e};const B=Z;var $=function(e){this.name=e.name,this.available=e.available};$.prototype.toString=function(){return this.name},$.fromString=function(e){return e?new $({name:e,available:!1}):null},$.prototype.serialize=function(){return["image",this.name]};const X=$;function H(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,t,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Y(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof c)return!0;if(e instanceof J)return!0;if(e instanceof B)return!0;if(e instanceof X)return!0;if(Array.isArray(e)){for(var t=0,r=e;t<r.length;t+=1)if(!Y(r[t]))return!1;return!0}if("object"==typeof e){for(var n in e)if(!Y(e[n]))return!1;return!0}return!1}function K(e){if(null===e)return j;if("string"==typeof e)return T;if("boolean"==typeof e)return E;if("number"==typeof e)return M;if(e instanceof c)return C;if(e instanceof J)return F;if(e instanceof B)return D;if(e instanceof X)return O;if(Array.isArray(e)){for(var t,r=e.length,n=0,i=e;n<i.length;n+=1){var a=K(i[n]);if(t){if(t===a)continue;t=I;break}t=a}return P(t||I,r)}return f("object"==typeof e),A}function Q(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof c||e instanceof B||e instanceof X?e.toString():JSON.stringify(e)}var ee=function(e,t){this.type=e,this.value=t};ee.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!Y(e[1]))return t.error("invalid value");var r=e[1],n=K(r),i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new ee(n,r)},ee.prototype.evaluate=function(){return this.value},ee.prototype.eachChild=function(){},ee.prototype.outputDefined=function(){return!0},ee.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof c?["rgba"].concat(this.value.toArray()):this.value instanceof B?this.value.serialize():(f(null===this.value||"string"==typeof this.value||"number"==typeof this.value||"boolean"==typeof this.value),this.value)};const te=ee;var re=function(e){this.name="ExpressionEvaluationError",this.message=e};re.prototype.toJSON=function(){return this.message};const ne=re;var ie={string:T,number:M,boolean:E,object:A},ae=function(e,t){this.type=e,this.args=t};ae.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,n=1,i=e[0];if("array"===i){var a,o;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in ie)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=ie[s],n++}else a=I;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=P(a,o)}else f(ie[i],i),r=ie[i];for(var u=[];n<e.length;n++){var l=t.parse(e[n],n,I);if(!l)return null;u.push(l)}return new ae(r,u)},ae.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!R(this.type,K(r)))return r;if(t===this.args.length-1)throw new ne("Expected value to be of type "+N(this.type)+", but found "+N(K(r))+" instead.")}return f(!1),null},ae.prototype.eachChild=function(e){this.args.forEach(e)},ae.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},ae.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))};const oe=ae;var se=function(e){this.type=D,this.sections=e};se.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");for(var n=[],i=!1,a=1;a<=e.length-1;++a){var o=e[a];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;var s=null;if(o["font-scale"]&&!(s=t.parse(o["font-scale"],1,M)))return null;var u=null;if(o["text-font"]&&!(u=t.parse(o["text-font"],1,P(T))))return null;var l=null;if(o["text-color"]&&!(l=t.parse(o["text-color"],1,C)))return null;var p=n[n.length-1];p.scale=s,p.font=u,p.textColor=l}else{var c=t.parse(e[a],1,I);if(!c)return null;var f=c.type.kind;if("string"!==f&&"value"!==f&&"null"!==f&&"resolvedImage"!==f)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:c,scale:null,font:null,textColor:null})}}return new se(n)},se.prototype.evaluate=function(e){return new B(this.sections.map((function(t){var r=t.content.evaluate(e);return K(r)===O?new W("",r,null,null,null):new W(Q(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},se.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}},se.prototype.outputDefined=function(){return!1},se.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.content.serialize());var i={};n.scale&&(i["font-scale"]=n.scale.serialize()),n.font&&(i["text-font"]=n.font.serialize()),n.textColor&&(i["text-color"]=n.textColor.serialize()),e.push(i)}return e};const ue=se;var le=function(e){this.type=O,this.input=e};le.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,T);return r?new le(r):t.error("No image name provided.")},le.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=X.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r},le.prototype.eachChild=function(e){e(this.input)},le.prototype.outputDefined=function(){return!1},le.prototype.serialize=function(){return["image",this.input.serialize()]};const pe=le;var ce={"to-boolean":E,"to-color":C,"to-number":M,"to-string":T},fe=function(e,t){this.type=e,this.args=t};fe.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(f(ce[r],r),("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var n=ce[r],i=[],a=1;a<e.length;a++){var o=t.parse(e[a],a,I);if(!o)return null;i.push(o)}return new fe(n,i)},fe.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,n=0,i=this.args;n<i.length;n+=1){if(r=null,(t=i[n].evaluate(e))instanceof c)return t;if("string"==typeof t){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":H(t[0],t[1],t[2],t[3])))return new c(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ne(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var o=null,s=0,u=this.args;s<u.length;s+=1){if(null===(o=u[s].evaluate(e)))return 0;var l=Number(o);if(!isNaN(l))return l}throw new ne("Could not convert "+JSON.stringify(o)+" to number.")}return"formatted"===this.type.kind?B.fromString(Q(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?X.fromString(Q(this.args[0].evaluate(e))):Q(this.args[0].evaluate(e))},fe.prototype.eachChild=function(e){this.args.forEach(e)},fe.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},fe.prototype.serialize=function(){if("formatted"===this.type.kind)return new ue([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new pe(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};const ye=fe;var de=["Unknown","Point","LineString","Polygon"],me=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null};me.prototype.id=function(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null},me.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?de[this.feature.type]:this.feature.type:null},me.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},me.prototype.canonicalID=function(){return this.canonical},me.prototype.properties=function(){return this.feature&&this.feature.properties||{}},me.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,t=this.featureDistanceData.scale,r=this.featureTileCoord,n=r.x,i=r.y,a=n*t-e[0],o=i*t-e[1];return this.featureDistanceData.bearing[0]*a+this.featureDistanceData.bearing[1]*o}return 0},me.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=c.parse(e)),t};const he=me;var ve=function(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n};ve.prototype.evaluate=function(e){return this._evaluate(e,this.args)},ve.prototype.eachChild=function(e){this.args.forEach(e)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},ve.parse=function(e,t){var r,n=e[0],i=ve.definitions[n];if(!i)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var a=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter((function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1})),u=null,l=0,p=s;l<p.length;l+=1){var c=p[l],y=c[0],d=c[1];u=new We(t.registry,t.path,null,t.scope);for(var m=[],h=!1,v=1;v<e.length;v++){var g=e[v],b=Array.isArray(y)?y[v-1]:y.type,x=u.parse(g,1+m.length,b);if(!x){h=!0;break}m.push(x)}if(!h)if(Array.isArray(y)&&y.length!==m.length)u.error("Expected "+y.length+" arguments, but found "+m.length+" instead.");else{for(var w=0;w<m.length;w++){var k=Array.isArray(y)?y[w]:y.type,z=m[w];u.concat(w+1).checkSubtype(k,z.type)}if(0===u.errors.length)return new ve(n,a,d,m)}}if(f(!u||u.errors.length>0),1===s.length)(r=t.errors).push.apply(r,u.errors);else{for(var S=(s.length?s:o).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(N).join(", ")+")":"("+N(t.type)+"...)"})).join(" | "),q=[],_=1;_<e.length;_++){var j=t.parse(e[_],1+q.length);if(!j)return null;q.push(N(j.type))}t.error("Expected arguments of type "+S+", but found ("+q.join(", ")+") instead.")}return null},ve.register=function(e,t){for(var r in f(!ve.definitions),ve.definitions=t,t)e[r]=ve};const ge=ve;var be=function(e,t,r){this.type=F,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};be.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,E);if(!n)return null;var i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,E);if(!i)return null;var a=null;return r.locale&&!(a=t.parse(r.locale,1,T))?null:new be(n,i,a)},be.prototype.evaluate=function(e){return new J(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},be.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},be.prototype.outputDefined=function(){return!1},be.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};const xe=be;S(338);var we=8192;function ke(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function ze(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Se(e,t){var r,n=(180+e[0])/360,i=(r=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360),a=Math.pow(2,t.z);return[Math.round(n*a*we),Math.round(i*a*we)]}function qe(e,t,r){return t[1]>e[1]!=r[1]>e[1]&&e[0]<(r[0]-t[0])*(e[1]-t[1])/(r[1]-t[1])+t[0]}function _e(e,t){for(var r,n,i,a,o,s,u,l=!1,p=0,c=t.length;p<c;p++)for(var f=t[p],y=0,d=f.length;y<d-1;y++){if(r=e,n=f[y],i=f[y+1],void 0,void 0,void 0,void 0,a=r[0]-n[0],o=r[1]-n[1],s=r[0]-i[0],a*(u=r[1]-i[1])-s*o==0&&a*s<=0&&o*u<=0)return!1;qe(e,f[y],f[y+1])&&(l=!l)}return l}function je(e,t){for(var r=0;r<t.length;r++)if(_e(e,t[r]))return!0;return!1}function Me(e,t,r,n){var i=e[0]-r[0],a=e[1]-r[1],o=t[0]-r[0],s=t[1]-r[1],u=n[0]-r[0],l=n[1]-r[1],p=i*l-u*a,c=o*l-u*s;return p>0&&c<0||p<0&&c>0}function Te(e,t,r){for(var n=0,i=r;n<i.length;n+=1)for(var a=i[n],o=0;o<a.length-1;++o)if(s=e,u=t,l=a[o],p=a[o+1],void 0,void 0,void 0,void 0,y=[u[0]-s[0],u[1]-s[1]],0!=(c=[p[0]-l[0],p[1]-l[1]])[0]*(f=y)[1]-c[1]*f[0]&&Me(s,u,l,p)&&Me(l,p,s,u))return!0;var s,u,l,p,c,f,y;return!1}function Ee(e,t){for(var r=0;r<e.length;++r)if(!_e(e[r],t))return!1;for(var n=0;n<e.length-1;++n)if(Te(e[n],e[n+1],t))return!1;return!0}function Ce(e,t){for(var r=0;r<t.length;r++)if(Ee(e,t[r]))return!0;return!1}function Ae(e,t,r){for(var n=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=Se(e[i][o],r);ke(t,s),a.push(s)}n.push(a)}return n}function Ie(e,t,r){for(var n=[],i=0;i<e.length;i++){var a=Ae(e[i],t,r);n.push(a)}return n}function Fe(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){var i=.5*n,a=e[0]-r[0]>i?-n:r[0]-e[0]>i?n:0;0===a&&(a=e[0]-r[2]>i?-n:r[2]-e[0]>i?n:0),e[0]+=a}ke(t,e)}function De(e,t,r,n){var i=Math.pow(2,n.z)*we,a=[n.x*we,n.y*we],o=[];if(!e)return o;for(var s=0,u=e;s<u.length;s+=1)for(var l=0,p=u[s];l<p.length;l+=1){var c=p[l],f=[c.x+a[0],c.y+a[1]];Fe(f,t,r,i),o.push(f)}return o}function Oe(e,t,r,n){var i,a=Math.pow(2,n.z)*we,o=[n.x*we,n.y*we],s=[];if(!e)return s;for(var u=0,l=e;u<l.length;u+=1){for(var p=[],c=0,f=l[u];c<f.length;c+=1){var y=f[c],d=[y.x+o[0],y.y+o[1]];ke(t,d),p.push(d)}s.push(p)}if(t[2]-t[0]<=a/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var m=0,h=s;m<h.length;m+=1)for(var v=0,g=h[m];v<g.length;v+=1)Fe(g[v],t,r,a)}return s}var Pe=function(e,t){this.type=E,this.geojson=e,this.geometries=t};Pe.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(Y(e[1])){var r=e[1];if("FeatureCollection"===r.type)for(var n=0;n<r.features.length;++n){var i=r.features[n].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Pe(r,r.features[n].geometry)}else if("Feature"===r.type){var a=r.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new Pe(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new Pe(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Pe.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){var a=Ae(t.coordinates,n,i),o=De(e.geometry(),r,n,i);if(!ze(r,n))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!_e(u[s],a))return!1}if("MultiPolygon"===t.type){var l=Ie(t.coordinates,n,i),p=De(e.geometry(),r,n,i);if(!ze(r,n))return!1;for(var c=0,f=p;c<f.length;c+=1)if(!je(f[c],l))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){var a=Ae(t.coordinates,n,i),o=Oe(e.geometry(),r,n,i);if(!ze(r,n))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!Ee(u[s],a))return!1}if("MultiPolygon"===t.type){var l=Ie(t.coordinates,n,i),p=Oe(e.geometry(),r,n,i);if(!ze(r,n))return!1;for(var c=0,f=p;c<f.length;c+=1)if(!Ce(f[c],l))return!1}return!0}(e,this.geometries)}return!1},Pe.prototype.eachChild=function(){},Pe.prototype.outputDefined=function(){return!0},Pe.prototype.serialize=function(){return["within",this.geojson]};const Ne=Pe;function Le(e){if(e instanceof ge){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Ne)return!1;var t=!0;return e.eachChild((function(e){t&&!Le(e)&&(t=!1)})),t}function Re(e){if(e instanceof ge&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Re(e)&&(t=!1)})),t}function Ve(e,t){if(e instanceof ge&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild((function(e){r&&!Ve(e,t)&&(r=!1)})),r}var Ue=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Ue.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new Ue(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},Ue.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Ue.prototype.eachChild=function(){},Ue.prototype.outputDefined=function(){return!1},Ue.prototype.serialize=function(){return["var",this.name]};const Ge=Ue;var Je=function(e,t,r,n,i){void 0===t&&(t=[]),void 0===n&&(n=new _),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=n,this.errors=i,this.expectedType=r};Je.prototype.parse=function(e,t,r,n,i){return void 0===i&&(i={}),t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)},Je.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new oe(t,[e]):"coerce"===r?new ye(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[n];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=r(a,o,t.typeAnnotation||"coerce");else a=r(a,o,t.typeAnnotation||"assert")}if(!(a instanceof te)&&"resolvedImage"!==a.type.kind&&Ze(a)){var u=new he;try{a=new te(a.type,a.evaluate(u))}catch(e){return this.error(e.message),null}}return a}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},Je.prototype.concat=function(e,t,r){var n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new Je(this.registry,n,t||null,i,this.errors)},Je.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new k(n,e))},Je.prototype.checkSubtype=function(e,t){var r=R(e,t);return r&&this.error(r),r};const We=Je;function Ze(e){if(e instanceof Ge)return Ze(e.boundExpression);if(e instanceof ge&&"error"===e.name)return!1;if(e instanceof xe)return!1;if(e instanceof Ne)return!1;var t=e instanceof ye||e instanceof oe,r=!0;return e.eachChild((function(e){r=t?r&&Ze(e):r&&e instanceof te})),!!r&&Le(e)&&Ve(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Be(e,t){for(var r,n,i=e.length-1,a=0,o=i,s=0;a<=o;)if(r=e[s=Math.floor((a+o)/2)],n=e[s+1],r<=t){if(s===i||t<n)return s;a=s+1}else{if(!(r>t))throw new ne("Input is not a number.");o=s-1}return 0}var $e=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,i=r;n<i.length;n+=1){var a=i[n],o=a[0],s=a[1];this.labels.push(o),this.outputs.push(s)}};$e.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,M);if(!r)return null;var n=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var a=1;a<e.length;a+=2){var o=1===a?-1/0:e[a],s=e[a+1],u=a,l=a+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var p=t.parse(s,l,i);if(!p)return null;i=i||p.type,n.push([o,p])}return new $e(i,r,n)},$e.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[Be(t,n)].evaluate(e)},$e.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},$e.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},$e.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};const Xe=$e;var He=S(946);function Ye(e,t,r){return e*(1-r)+t*r}function Ke(e,t,r){return new c(Ye(e.r,t.r,r),Ye(e.g,t.g,r),Ye(e.b,t.b,r),Ye(e.a,t.a,r))}function Qe(e,t,r){return e.map((function(e,n){return Ye(e,t[n],r)}))}var et=.95047,tt=1.08883,rt=4/29,nt=6/29,it=3*nt*nt,at=Math.PI/180,ot=180/Math.PI;function st(e){return e>.008856451679035631?Math.pow(e,1/3):e/it+rt}function ut(e){return e>nt?e*e*e:it*(e-rt)}function lt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function pt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ct(e){var t=pt(e.r),r=pt(e.g),n=pt(e.b),i=st((.4124564*t+.3575761*r+.1804375*n)/et),a=st((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-st((.0193339*t+.119192*r+.9503041*n)/tt)),alpha:e.a}}function ft(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*ut(t),r=et*ut(r),n=tt*ut(n),new c(lt(3.2404542*r-1.5371385*t-.4985314*n),lt(-.969266*r+1.8760108*t+.041556*n),lt(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function yt(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var dt={forward:ct,reverse:ft,interpolate:function(e,t,r){return{l:Ye(e.l,t.l,r),a:Ye(e.a,t.a,r),b:Ye(e.b,t.b,r),alpha:Ye(e.alpha,t.alpha,r)}}},mt={forward:function(e){var t=ct(e),r=t.l,n=t.a,i=t.b,a=Math.atan2(i,n)*ot;return{h:a<0?a+360:a,c:Math.sqrt(n*n+i*i),l:r,alpha:e.a}},reverse:function(e){var t=e.h*at,r=e.c;return ft({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:yt(e.h,t.h,r),c:Ye(e.c,t.c,r),l:Ye(e.l,t.l,r),alpha:Ye(e.alpha,t.alpha,r)}}},ht=function(e,t,r,n,i){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var a=0,o=i;a<o.length;a+=1){var s=o[a],u=s[0],l=s[1];this.labels.push(u),this.outputs.push(l)}};function vt(e,t,r,n){var i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}ht.interpolationFactor=function(e,t,r,n){var i=0;if("exponential"===e.name)i=vt(t,e.base,r,n);else if("linear"===e.name)i=vt(t,1,r,n);else if("cubic-bezier"===e.name){var a=e.controlPoints;i=new He(a[0],a[1],a[2],a[3]).solve(vt(t,1,r,n))}return i},ht.parse=function(e,t){var r=e[0],n=e[1],i=e[2],a=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,M)))return null;var u=[],l=null;"interpolate-hcl"===r||"interpolate-lab"===r?l=C:t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(var p=0;p<a.length;p+=2){var c=a[p],f=a[p+1],y=p+3,d=p+4;if("number"!=typeof c)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',y);if(u.length&&u[u.length-1][0]>=c)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',y);var m=t.parse(f,d,l);if(!m)return null;l=l||m.type,u.push([c,m])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new ht(l,r,n,i,u):t.error("Type "+N(l)+" is not interpolatable.")},ht.prototype.evaluate=function(t){var r=this.labels,n=this.outputs;if(1===r.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=r[0])return n[0].evaluate(t);var a=r.length;if(i>=r[a-1])return n[a-1].evaluate(t);var o=Be(r,i),s=r[o],u=r[o+1],l=ht.interpolationFactor(this.interpolation,i,s,u),p=n[o].evaluate(t),c=n[o+1].evaluate(t);return"interpolate"===this.operator?e[this.type.kind.toLowerCase()](p,c,l):"interpolate-hcl"===this.operator?mt.reverse(mt.interpolate(mt.forward(p),mt.forward(c),l)):dt.reverse(dt.interpolate(dt.forward(p),dt.forward(c),l))},ht.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},ht.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},ht.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};const gt=ht;var bt=function(e,t){this.type=e,this.args=t};bt.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);for(var i=[],a=0,o=e.slice(1);a<o.length;a+=1){var s=o[a],u=t.parse(s,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!u)return null;r=r||u.type,i.push(u)}f(r);var l=n&&i.some((function(e){return R(n,e.type)}));return new bt(l?I:r,i)},bt.prototype.evaluate=function(e){for(var t,r=null,n=0,i=0,a=this.args;i<a.length;i+=1){if(n++,(r=a[i].evaluate(e))&&r instanceof X&&!r.available&&(t||(t=r),r=null,n===this.args.length))return t;if(null!==r)break}return r},bt.prototype.eachChild=function(e){this.args.forEach(e)},bt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},bt.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};const xt=bt;var wt=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};wt.prototype.evaluate=function(e){return this.result.evaluate(e)},wt.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},wt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var i=e[n];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var a=t.parse(e[n+1],n+1);if(!a)return null;r.push([i,a])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return o?new wt(r,o):null},wt.prototype.outputDefined=function(){return this.result.outputDefined()},wt.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var n=r[t],i=n[0],a=n[1];e.push(i,a.serialize())}return e.push(this.result.serialize()),e};const kt=wt;var zt=function(e,t,r){this.type=e,this.index=t,this.input=r};zt.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,M),n=t.parse(e[2],2,P(t.expectedType||I));if(!r||!n)return null;var i=n.type;return new zt(i.itemType,r,n)},zt.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new ne("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new ne("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new ne("Array index must be an integer, but found "+t+" instead.");return r[t]},zt.prototype.eachChild=function(e){e(this.index),e(this.input)},zt.prototype.outputDefined=function(){return!1},zt.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};const St=zt;var qt=function(e,t){this.type=E,this.needle=e,this.haystack=t};qt.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,I),n=t.parse(e[2],2,I);return r&&n?V(r.type,[E,T,M,j,I])?new qt(r,n):t.error("Expected first argument to be of type boolean, string, number or null, but found "+N(r.type)+" instead"):null},qt.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(null==r)return!1;if(!U(t,["boolean","string","number","null"]))throw new ne("Expected first argument to be of type boolean, string, number or null, but found "+N(K(t))+" instead.");if(!U(r,["string","array"]))throw new ne("Expected second argument to be of type array or string, but found "+N(K(r))+" instead.");return r.indexOf(t)>=0},qt.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},qt.prototype.outputDefined=function(){return!0},qt.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};const _t=qt;var jt=function(e,t,r){this.type=M,this.needle=e,this.haystack=t,this.fromIndex=r};jt.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,I),n=t.parse(e[2],2,I);if(!r||!n)return null;if(!V(r.type,[E,T,M,j,I]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+N(r.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,M);return i?new jt(r,n,i):null}return new jt(r,n)},jt.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!U(t,["boolean","string","number","null"]))throw new ne("Expected first argument to be of type boolean, string, number or null, but found "+N(K(t))+" instead.");if(!U(r,["string","array"]))throw new ne("Expected second argument to be of type array or string, but found "+N(K(r))+" instead.");if(this.fromIndex){var n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)},jt.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},jt.prototype.outputDefined=function(){return!1},jt.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};const Mt=jt;var Tt=function(e,t,r,n,i,a){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=a};Tt.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var i={},a=[],o=2;o<e.length-1;o+=2){var s=e[o],u=e[o+1];Array.isArray(s)||(s=[s]);var l=t.concat(o);if(0===s.length)return l.error("Expected at least one branch label.");for(var p=0,c=s;p<c.length;p+=1){var y=c[p];if("number"!=typeof y&&"string"!=typeof y)return l.error("Branch labels must be numbers or strings.");if("number"==typeof y&&Math.abs(y)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof y&&Math.floor(y)!==y)return l.error("Numeric branch labels must be integer values.");if(r){if(l.checkSubtype(r,K(y)))return null}else r=K(y);if(void 0!==i[String(y)])return l.error("Branch labels must be unique.");i[String(y)]=a.length}var d=t.parse(u,o,n);if(!d)return null;n=n||d.type,a.push(d)}var m=t.parse(e[1],1,I);if(!m)return null;var h=t.parse(e[e.length-1],e.length-1,n);return h?(f(r&&n),"value"!==m.type.kind&&t.concat(1).checkSubtype(r,m.type)?null:new Tt(r,n,m,i,a,h)):null},Tt.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(K(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},Tt.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},Tt.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},Tt.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],n={},i=0,a=Object.keys(this.cases).sort();i<a.length;i+=1){var o=a[i];void 0===(c=n[this.cases[o]])?(n[this.cases[o]]=r.length,r.push([this.cases[o],[o]])):r[c][1].push(o)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,l=r;u<l.length;u+=1){var p=l[u],c=p[0],f=p[1];1===f.length?t.push(s(f[0])):t.push(f.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};const Et=Tt;var Ct=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};Ct.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],i=1;i<e.length-1;i+=2){var a=t.parse(e[i],i,E);if(!a)return null;var o=t.parse(e[i+1],i+1,r);if(!o)return null;n.push([a,o]),r=r||o.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?(f(r),new Ct(r,n,s)):null},Ct.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[0],a=n[1];if(i.evaluate(e))return a.evaluate(e)}return this.otherwise.evaluate(e)},Ct.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[0],a=n[1];e(i),e(a)}e(this.otherwise)},Ct.prototype.outputDefined=function(){return this.branches.every((function(e){return e[0],e[1].outputDefined()}))&&this.otherwise.outputDefined()},Ct.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};const At=Ct;var It=function(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n};It.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,I),n=t.parse(e[2],2,M);if(!r||!n)return null;if(!V(r.type,[P(I),T,I]))return t.error("Expected first argument to be of type array or string, but found "+N(r.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,M);return i?new It(r.type,r,n,i):null}return new It(r.type,r,n)},It.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!U(t,["string","array"]))throw new ne("Expected first argument to be of type array or string, but found "+N(K(t))+" instead.");if(this.endIndex){var n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)},It.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},It.prototype.outputDefined=function(){return!1},It.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};const Ft=It;function Dt(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Ot(e,t,r,n){return 0===n.compare(t,r)}function Pt(e,t,r){var n="=="!==e&&"!="!==e;return function(){function i(e,t,r){this.type=E,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],a=t.parse(e[1],1,I);if(!a)return null;if(!Dt(r,a.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+N(a.type)+"'.");var o=t.parse(e[2],2,I);if(!o)return null;if(!Dt(r,o.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+N(o.type)+"'.");if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '"+N(a.type)+"' and '"+N(o.type)+"'.");n&&("value"===a.type.kind&&"value"!==o.type.kind?a=new oe(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new oe(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,F)))return null}return new i(a,o,s)},i.prototype.evaluate=function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){var s=K(a),u=K(o);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new ne('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var l=K(a),p=K(o);if("string"!==l.kind||"string"!==p.kind)return t(i,a,o)}return this.collator?r(i,a,o,this.collator.evaluate(i)):t(i,a,o)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}var Nt=Pt("==",(function(e,t,r){return t===r}),Ot),Lt=Pt("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!Ot(0,t,r,n)})),Rt=Pt("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),Vt=Pt(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),Ut=Pt("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),Gt=Pt(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0})),Jt=function(e,t,r,n,i){this.type=T,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i};Jt.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,M);if(!r)return null;var n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");var i=null;if(n.locale&&!(i=t.parse(n.locale,1,T)))return null;var a=null;if(n.currency&&!(a=t.parse(n.currency,1,T)))return null;var o=null;if(n["min-fraction-digits"]&&!(o=t.parse(n["min-fraction-digits"],1,M)))return null;var s=null;return n["max-fraction-digits"]&&!(s=t.parse(n["max-fraction-digits"],1,M))?null:new Jt(r,i,a,o,s)},Jt.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Jt.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Jt.prototype.outputDefined=function(){return!1},Jt.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};const Wt=Jt;var Zt=function(e){this.type=M,this.input=e};Zt.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+N(r.type)+" instead."):new Zt(r):null},Zt.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ne("Expected value to be of type string or array, but found "+N(K(t))+" instead.")},Zt.prototype.eachChild=function(e){e(this.input)},Zt.prototype.outputDefined=function(){return!1},Zt.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Bt={"==":Nt,"!=":Lt,">":Vt,"<":Rt,">=":Gt,"<=":Ut,array:oe,at:St,boolean:oe,case:At,coalesce:xt,collator:xe,format:ue,image:pe,in:_t,"index-of":Mt,interpolate:gt,"interpolate-hcl":gt,"interpolate-lab":gt,length:Zt,let:kt,literal:te,match:Et,number:oe,"number-format":Wt,object:oe,slice:Ft,step:Xe,string:oe,"to-boolean":ye,"to-color":ye,"to-number":ye,"to-string":ye,var:Ge,within:Ne};function $t(e,t){var r=t[0],n=t[1],i=t[2],a=t[3];r=r.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);var o=a?a.evaluate(e):1,s=H(r,n,i,o);if(s)throw new ne(s);return new c(r/255*o,n/255*o,i/255*o,o)}function Xt(e,t){return e in t}function Ht(e,t){var r=t[e];return void 0===r?null:r}function Yt(e){return{type:e}}ge.register(Bt,{error:[{kind:"error"},[T],function(e,t){var r=t[0];throw new ne(r.evaluate(e))}],typeof:[T,[I],function(e,t){return N(K(t[0].evaluate(e)))}],"to-rgba":[P(M,4),[C],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[C,[M,M,M],$t],rgba:[C,[M,M,M,M],$t],has:{type:E,overloads:[[[T],function(e,t){return Xt(t[0].evaluate(e),e.properties())}],[[T,A],function(e,t){var r=t[0],n=t[1];return Xt(r.evaluate(e),n.evaluate(e))}]]},get:{type:I,overloads:[[[T],function(e,t){return Ht(t[0].evaluate(e),e.properties())}],[[T,A],function(e,t){var r=t[0],n=t[1];return Ht(r.evaluate(e),n.evaluate(e))}]]},"feature-state":[I,[T],function(e,t){return Ht(t[0].evaluate(e),e.featureState||{})}],properties:[A,[],function(e){return e.properties()}],"geometry-type":[T,[],function(e){return e.geometryType()}],id:[I,[],function(e){return e.id()}],zoom:[M,[],function(e){return e.globals.zoom}],pitch:[M,[],function(e){return e.globals.pitch||0}],"distance-from-center":[M,[],function(e){return e.distanceFromCenter()}],"heatmap-density":[M,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[M,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[M,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[I,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[M,Yt(M),function(e,t){for(var r=0,n=0,i=t;n<i.length;n+=1)r+=i[n].evaluate(e);return r}],"*":[M,Yt(M),function(e,t){for(var r=1,n=0,i=t;n<i.length;n+=1)r*=i[n].evaluate(e);return r}],"-":{type:M,overloads:[[[M,M],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)-n.evaluate(e)}],[[M],function(e,t){return-t[0].evaluate(e)}]]},"/":[M,[M,M],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)/n.evaluate(e)}],"%":[M,[M,M],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)%n.evaluate(e)}],ln2:[M,[],function(){return Math.LN2}],pi:[M,[],function(){return Math.PI}],e:[M,[],function(){return Math.E}],"^":[M,[M,M],function(e,t){var r=t[0],n=t[1];return Math.pow(r.evaluate(e),n.evaluate(e))}],sqrt:[M,[M],function(e,t){var r=t[0];return Math.sqrt(r.evaluate(e))}],log10:[M,[M],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN10}],ln:[M,[M],function(e,t){var r=t[0];return Math.log(r.evaluate(e))}],log2:[M,[M],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN2}],sin:[M,[M],function(e,t){var r=t[0];return Math.sin(r.evaluate(e))}],cos:[M,[M],function(e,t){var r=t[0];return Math.cos(r.evaluate(e))}],tan:[M,[M],function(e,t){var r=t[0];return Math.tan(r.evaluate(e))}],asin:[M,[M],function(e,t){var r=t[0];return Math.asin(r.evaluate(e))}],acos:[M,[M],function(e,t){var r=t[0];return Math.acos(r.evaluate(e))}],atan:[M,[M],function(e,t){var r=t[0];return Math.atan(r.evaluate(e))}],min:[M,Yt(M),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[M,Yt(M),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[M,[M],function(e,t){var r=t[0];return Math.abs(r.evaluate(e))}],round:[M,[M],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[M,[M],function(e,t){var r=t[0];return Math.floor(r.evaluate(e))}],ceil:[M,[M],function(e,t){var r=t[0];return Math.ceil(r.evaluate(e))}],"filter-==":[E,[T,I],function(e,t){var r=t[0],n=t[1];return e.properties()[r.value]===n.value}],"filter-id-==":[E,[I],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[E,[T],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[E,[T,I],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i<a}],"filter-id-<":[E,[I],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<i}],"filter->":[E,[T,I],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i>a}],"filter-id->":[E,[I],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>i}],"filter-<=":[E,[T,I],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i<=a}],"filter-id-<=":[E,[I],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<=i}],"filter->=":[E,[T,I],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i>=a}],"filter-id->=":[E,[I],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>=i}],"filter-has":[E,[I],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[E,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[E,[P(T)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[E,[P(I)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[E,[T,P(I)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[E,[T,P(I)],function(e,t){var r=t[0],n=t[1];return function(e,t,r,n){for(;r<=n;){var i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1}(e.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:E,overloads:[[[E,E],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)&&n.evaluate(e)}],[Yt(E),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(!n[r].evaluate(e))return!1;return!0}]]},any:{type:E,overloads:[[[E,E],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)||n.evaluate(e)}],[Yt(E),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(n[r].evaluate(e))return!0;return!1}]]},"!":[E,[E],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[E,[T],function(e,t){var r=t[0],n=e.globals&&e.globals.isSupportedScript;return!n||n(r.evaluate(e))}],upcase:[T,[T],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[T,[T],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[T,Yt(I),function(e,t){return t.map((function(t){return Q(t.evaluate(e))})).join("")}],"resolved-locale":[T,[F],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});const Kt=Bt;function Qt(e){return{result:"success",value:e}}function er(e){return{result:"error",value:e}}function tr(e){return!!e.expression&&e.expression.interpolated}function rr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function nr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function ir(e){return e}function ar(e,r){var n,i,a,o="color"===r.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||void 0!==e.property,l=s||!u,p=e.type||(tr(r)?"exponential":"interval");if(o&&((e=w({},e)).stops&&(e.stops=e.stops.map((function(e){return[e[0],c.parse(e[1])]}))),e.default?e.default=c.parse(e.default):e.default=c.parse(r.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!t[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===p)n=lr;else if("interval"===p)n=ur;else if("categorical"===p){n=sr,i=Object.create(null);for(var f=0,y=e.stops;f<y.length;f+=1){var d=y[f];i[d[0]]=d[1]}a=typeof e.stops[0][0]}else{if("identity"!==p)throw new Error('Unknown function type "'+p+'"');n=pr}if(s){for(var m={},h=[],v=0;v<e.stops.length;v++){var g=e.stops[v],b=g[0].zoom;void 0===m[b]&&(m[b]={zoom:b,type:e.type,property:e.property,default:e.default,stops:[]},h.push(b)),m[b].stops.push([g[0].value,g[1]])}for(var x=[],k=0,z=h;k<z.length;k+=1){var S=z[k];x.push([m[S].zoom,ar(m[S],r)])}var q={name:"linear"};return{kind:"composite",interpolationType:q,interpolationFactor:gt.interpolationFactor.bind(void 0,q),zoomStops:x.map((function(e){return e[0]})),evaluate:function(t,n){var i=t.zoom;return lr({stops:x,base:e.base},r,i).evaluate(i,n)}}}if(l){var _="exponential"===p?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:_,interpolationFactor:gt.interpolationFactor.bind(void 0,_),zoomStops:e.stops.map((function(e){return e[0]})),evaluate:function(t){var o=t.zoom;return n(e,r,o,i,a)}}}return{kind:"source",evaluate:function(t,o){var s=o&&o.properties?o.properties[e.property]:void 0;return void 0===s?or(e.default,r.default):n(e,r,s,i,a)}}}function or(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function sr(e,t,r,n,i){return or(typeof r===i?n[r]:void 0,e.default,t.default)}function ur(e,t,r){if("number"!==rr(r))return or(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var i=Be(e.stops.map((function(e){return e[0]})),r);return e.stops[i][1]}function lr(r,n,i){var a=void 0!==r.base?r.base:1;if("number"!==rr(i))return or(r.default,n.default);var o=r.stops.length;if(1===o)return r.stops[0][1];if(i<=r.stops[0][0])return r.stops[0][1];if(i>=r.stops[o-1][0])return r.stops[o-1][1];var s=Be(r.stops.map((function(e){return e[0]})),i),u=function(e,t,r,n){var i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(i,a,r.stops[s][0],r.stops[s+1][0]),l=r.stops[s][1],p=r.stops[s+1][1],c=e[n.type]||ir;if(r.colorSpace&&"rgb"!==r.colorSpace){var f=t[r.colorSpace];c=function(e,t){return f.reverse(f.interpolate(f.forward(e),f.forward(t),u))}}return"function"==typeof l.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=l.evaluate.apply(void 0,e),n=p.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return c(r,n,u)}}:c(l,p,u)}function pr(e,t,r){return"color"===t.type?r=c.parse(r):"formatted"===t.type?r=B.fromString(r.toString()):"resolvedImage"===t.type?r=X.fromString(r.toString()):rr(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),or(r,e.default,t.default)}var cr=function(e,t){var r;this.expression=e,this._warningHistory={},this._evaluator=new he,this._defaultValue=t?"color"===(r=t).type&&nr(r.default)?new c(0,0,0,0):"color"===r.type?c.parse(r.default)||null:void 0===r.default?null:r.default:null,this._enumValues=t&&"enum"===t.type?t.values:null};function fr(e,t){var r=new We(Kt,[],t?function(e){var t={color:C,string:T,number:M,enum:T,boolean:E,formatted:D,resolvedImage:O};return"array"===e.type?P(t[e.value]||I,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Qt(new cr(n,t)):(f(r.errors.length>0),er(r.errors))}cr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,a,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)},cr.prototype.evaluate=function(e,t,r,n,i,a,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null;try{var u=this.expression.evaluate(this._evaluator);if(null==u||"number"==typeof u&&u!=u)return this._defaultValue;if(this._enumValues&&!(u in this._enumValues))throw new ne("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(u)+" instead.");return u}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var yr=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Re(t.expression)};yr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,a)},yr.prototype.evaluate=function(e,t,r,n,i,a){return this._styleExpression.evaluate(e,t,r,n,i,a)};var dr=function(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Re(t.expression),this.interpolationType=n};function mr(e,t){if("error"===(e=fr(e,t)).result)return e;var r,n=e.value.expression,i=Le(n);if(!i&&"data-driven"!==(r=t)["property-type"]&&"cross-faded-data-driven"!==r["property-type"])return er([new k("","data expressions not supported")]);var a=Ve(n,["zoom","pitch","distance-from-center"]);if(!a&&!function(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}(t))return er([new k("","zoom expressions not supported")]);var o=vr(n);if(!o&&!a)return er([new k("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof k)return er([o]);if(o instanceof gt&&!tr(t))return er([new k("",'"interpolate" expressions cannot be used with this property')]);if(!o)return Qt(new yr(i?"constant":"source",e.value));var s=o instanceof gt?o.interpolation:void 0;return Qt(new dr(i?"camera":"composite",e.value,o.labels,s))}dr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,a)},dr.prototype.evaluate=function(e,t,r,n,i,a){return this._styleExpression.evaluate(e,t,r,n,i,a)},dr.prototype.interpolationFactor=function(e,t,r){return this.interpolationType?gt.interpolationFactor(this.interpolationType,e,t,r):0};var hr=function(e,t){this._parameters=e,this._specification=t,w(this,ar(this._parameters,this._specification))};function vr(e){var t=null;if(e instanceof kt)t=vr(e.result);else if(e instanceof xt)for(var r=0,n=e.args;r<n.length;r+=1){var i=n[r];if(t=vr(i))break}else(e instanceof Xe||e instanceof gt)&&e.input instanceof ge&&"zoom"===e.input.name&&(t=e);return t instanceof k||e.eachChild((function(e){var r=vr(e);r instanceof k?t=r:!t&&r?t=new k("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new k("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function gr(e){if(Array.isArray(e))return e.map(gr);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var r in e)t[r]=gr(e[r]);return t}return function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}(e)}hr.deserialize=function(e){return new hr(e._parameters,e._specification)},hr.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var br=S(840);const xr=br,wr=function(e,t){if(void 0===t&&(t="fill"),null==e)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};kr(e)||(e=Tr(e));var r=e,n=!0;try{n=function(e){if(!qr(e))return e;var t=gr(e);return Sr(t),zr(t)}(r)}catch(e){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n"+JSON.stringify(r,null,2)+"\n        ")}var i=xr["filter_"+t],a=fr(n,i),o=null;if("error"===a.result)throw new Error(a.value.map((function(e){return e.key+": "+e.message})).join(", "));o=function(e,t,r){return a.value.evaluate(e,t,{},r)};var s=null,u=null;if(n!==r){var l=fr(r,i);if("error"===l.result)throw new Error(l.value.map((function(e){return e.key+": "+e.message})).join(", "));s=function(e,t,r,n,i){return l.value.evaluate(e,t,{},r,void 0,void 0,n,i)},u=!Le(l.value.expression)}return{filter:o=o,dynamicFilter:s||void 0,needGeometry:Mr(n),needFeature:!!u}};function kr(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!kr(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}function zr(e){if(!Array.isArray(e))return e;var t=function(e){if(_r.has(e[0]))for(var t=1;t<e.length;t++)if(qr(e[t]))return!0;return e}(e);return!0===t?t:t.map((function(e){return zr(e)}))}function Sr(e){var t=!1,r=[];if("case"===e[0]){for(var n=1;n<e.length-1;n+=2)t=t||qr(e[n]),r.push(e[n+1]);r.push(e[e.length-1])}else if("match"===e[0]){t=t||qr(e[1]);for(var i=2;i<e.length-1;i+=2)r.push(e[i+1]);r.push(e[e.length-1])}else if("step"===e[0]){t=t||qr(e[1]);for(var a=1;a<e.length-1;a+=2)r.push(e[a+1])}t&&(e.length=0,e.push.apply(e,["any"].concat(r)));for(var o=1;o<e.length;o++)Sr(e[o])}function qr(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(var t,r=1;r<e.length;r++)if(qr(e[r]))return!0;return!1}var _r=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function jr(e,t){return e<t?-1:e>t?1:0}function Mr(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(Mr(e[t]))return!0;return!1}function Tr(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?Er(e[1],e[2],"=="):"!="===r?Ir(Er(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?Er(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(Tr))):"all"===r?["all"].concat(e.slice(1).map(Tr)):"none"===r?["all"].concat(e.slice(1).map(Tr).map(Ir)):"in"===r?Cr(e[1],e.slice(2)):"!in"===r?Ir(Cr(e[1],e.slice(2))):"has"===r?Ar(e[1]):"!has"===r?Ir(Ar(e[1])):"within"!==r||e}function Er(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function Cr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(jr)]]:["filter-in-small",e,["literal",t]]}}function Ar(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Ir(e){return["!",e]}const Fr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Dr(e,t){var r={};for(var n in e)"ref"!==n&&(r[n]=e[n]);return Fr.forEach((function(e){e in t&&(r[e]=t[e])})),r}var Or=S(523),Pr=S(89),Nr=S(42),Lr="https://api.mapbox.com";function Rr(e){var t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(t.length)}function Vr(e,t){var r=Rr(e);if(!r)return decodeURI(new URL(e,location.href).href);var n="styles/";if(0!==r.indexOf(n))throw new Error("unexpected style url: "+e);var i=r.slice(n.length);return Lr+"/styles/v1/"+i+"?&access_token="+t}function Ur(e,t,r,n){var i=new URL(e,n),a=Rr(e);return a?"https://{a-d}.tiles.mapbox.com/v4/"+a+"/{z}/{x}/{y}.vector.pbf?access_token="+t:t?(i.searchParams.set(r,t),decodeURI(i.href)):decodeURI(i.href)}function Gr(e){return e*Math.PI/180}var Jr=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function Wr(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);var r=document.createElement("canvas");return r.width=e,r.height=t,r}var Zr={};function Br(e,t,r){if(void 0===r&&(r={}),t in Zr)return Zr[t];var n=r.transformRequest&&r.transformRequest(t,e)||new Request(t);n.headers.get("Accept")||n.headers.set("Accept","application/json");var i=fetch(n).then((function(e){return delete Zr[t],e.ok?e.json():Promise.reject(new Error("Error fetching source "+t))})).catch((function(e){return delete Zr[t],Promise.reject(new Error("Error fetching source "+t))}));return Zr[t]=i,i}function $r(e,t){if("string"!=typeof e)return Promise.resolve(e);if(!e.trim().startsWith("{"))return Br("Style",e=Vr(e,t.accessToken),t);try{var r=JSON.parse(e);return Promise.resolve(r)}catch(e){return Promise.reject(e)}}var Xr={};function Hr(e,t,r){void 0===r&&(r={});var n=[t,JSON.stringify(e)].toString(),i=Xr[n];if(!i||r.transformRequest){var a=e.url;if(a){var o=Ur(a,r.accessToken,r.accessTokenParam||"access_token",t||location.href);i=a.startsWith("mapbox://")?Promise.resolve((0,Nr.assign)({},e,{url:void 0,tiles:o})):Br("Source",o,r).then((function(e){for(var t=0,n=e.tiles.length;t<n;++t){var i=Ur(e.tiles[t],r.accessToken,r.accessTokenParam||"access_token",o||location.href);if(r.transformRequest){var a=r.transformRequest(i,"Tiles");a instanceof Request&&(i=decodeURI(a.url))}e.tiles[t]=i}return Promise.resolve(e)}))}else e=(0,Nr.assign)({},e,{tiles:e.tiles.map((function(e){return Ur(e,r.accessToken,r.accessTokenParam||"access_token",t||location.href)}))}),i=Promise.resolve((0,Nr.assign)({},e));r.transformRequest||(Xr[n]=i)}return i}var Yr,Kr=Array(256).join("");function Qr(e,t){if(t>=.05){for(var r="",n=e.split("\n"),i=Kr.slice(0,Math.round(t/.1)),a=0,o=n.length;a<o;++a)a>0&&(r+="\n"),r+=n[a].split("").join(i);return r}return e}function en(){return Yr||(Yr=Wr(1,1).getContext("2d")),Yr}function tn(e,t){return en().measureText(e).width+(e.length-1)*t}var rn={};function nn(e,t,r,n){if(-1!==e.indexOf("\n")){for(var i=e.split("\n"),a=[],o=0,s=i.length;o<s;++o)a.push(nn(i[o],t,r,n));return a.join("\n")}var u=r+","+t+","+e+","+n,l=rn[u];if(!l){var p=e.split(" ");if(p.length>1){var c=en();c.font=t;for(var f=c.measureText("M").width*r,y="",d=[],m=0,h=p.length;m<h;++m){var v=p[m],g=y+(y?" ":"")+v;tn(g,n)<=f?y=g:(y&&d.push(y),y=v)}y&&d.push(y);for(var b=0,x=d.length;b<x&&x>1;++b){var w=d[b];if(tn(w,n)<.35*f){var k=b>0?tn(d[b-1],n):1/0,z=b<x-1?tn(d[b+1],n):1/0;d.splice(b,1),x-=1,k<z?(d[b-1]+=" "+w,b-=1):d[b]=w+" "+d[b]}}for(var S=0,q=d.length-1;S<q;++S){var _=d[S],j=d[S+1];if(tn(_,n)>.7*f&&tn(j,n)<.6*f){var M=_.split(" "),T=M.pop();tn(T,n)<.2*f&&(d[S]=M.join(" "),d[S+1]=T+" "+j),q-=1}}l=d.join("\n")}else l=e;l=Qr(l,n),rn[u]=l}return l}var an,on=/font-family: ?([^;]*);/,sn=/("|')/g;function un(e){if(!an){an={};for(var t=document.styleSheets,r=0,n=t.length;r<n;++r){var i=t[r];try{var a=i.rules||i.cssRules;if(a)for(var o=0,s=a.length;o<s;++o){var u=a[o];if(5==u.type){var l=u.cssText.match(on);an[l[1].replace(sn,"")]=!0}}}catch(e){}}}return e in an}var ln={};function pn(e){var t=e.toString();if(t in ln)return ln[t];for(var r=[],n=0,i=e.length;n<i;++n){e[n]=e[n].replace("Arial Unicode MS","Arial");var a=e[n],o=Or(a,1);(0,Pr.registerFont)(o);var s=o.split(" ");r.push([s.slice(3).join(" ").replace(/"/g,""),s[1],s[0]])}for(var u=0,l=r.length;u<l;++u){var p=r[u],c=p[0];if(!un(c)&&100!==Pr.checkedFonts.get(p[2]+"\n"+p[1]+" \n"+c)){var f="https://fonts.googleapis.com/css?family="+c.replace(/ /g,"+")+":"+p[1]+p[2];if(!document.querySelector('link[href="'+f+'"]')){var y=document.createElement("link");y.href=f,y.rel="stylesheet",document.head.appendChild(y)}}}return ln[t]=e,e}var cn,fn,yn={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},dn={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},mn={},hn={zoom:0};function vn(e,t,r,n,i,a,o){var s=e.id;a||(a={},console.warn("No functionCache provided to getValue()")),a[s]||(a[s]={});var u,l=a[s];if(!l[r]){var p=(e[t]||mn)[r],f=br[t+"_"+e.type][r];void 0===p&&(p=f.default);var m=(u=p,Array.isArray(u)&&u.length>0&&"string"==typeof u[0]&&u[0]in Kt);if(!m&&nr(p)&&(p=function(e,t){var r=e.stops;if(!r)return function(e,t){var r=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",r]:r;if("enum"===t.type)return["match",r,Object.keys(t.values),r,e.default];var n=["color"===t.type?"to-color":t.type,r,y(e.default)];return"array"===t.type&&n.splice(1,0,t.value,t.length||null),n}(e,t);var n=r&&"object"==typeof r[0][0],i=n||void 0!==e.property,a=n||!i;return r=r.map((function(e){return!i&&t.tokens&&"string"==typeof e[1]?[e[0],x(e[1])]:[e[0],y(e[1])]})),n?function(e,t,r){for(var n={},i={},a=[],o=0;o<r.length;o++){var s=r[o],u=s[0].zoom;void 0===n[u]&&(n[u]={zoom:u,type:e.type,property:e.property,default:e.default},i[u]=[],a.push(u)),i[u].push([s[0].value,s[1]])}if("exponential"===b({},t)){for(var l=[d(e),["linear"],["zoom"]],p=0,c=a;p<c.length;p+=1){var f=c[p];g(l,f,h(n[f],t,i[f]),!1)}return l}for(var y=["step",["zoom"]],m=0,x=a;m<x.length;m+=1){var w=x[m];g(y,w,h(n[w],t,i[w]),!0)}return v(y),y}(e,t,r):a?function(e,t,r,n){void 0===n&&(n=["zoom"]);var i,a=b(e,t),o=!1;if("interval"===a)i=["step",n],o=!0;else{if("exponential"!==a)throw new Error('Unknown zoom function type "'+a+'"');var s=void 0!==e.base?e.base:1;i=[d(e),1===s?["linear"]:["exponential",s],n]}for(var u=0,l=r;u<l.length;u+=1){var p=l[u];g(i,p[0],p[1],o)}return v(i),i}(e,t,r):h(e,t,r)}(p,f),m=!0),m){var w=function(e,t){var r=mr(e,t);if("error"===r.result)throw new Error(r.value.map((function(e){return e.key+": "+e.message})).join(", "));return r.value}(p,f);l[r]=w.evaluate.bind(w)}else"color"==f.type&&(p=c.parse(p)),l[r]=function(){return p}}return hn.zoom=n,l[r](hn,i,o)}function gn(e,t,r,n,i){return i||console.warn("No filterCache provided to evaluateFilter()"),e in i||(i[e]=wr(t).filter),hn.zoom=n,i[e](hn,r)}var bn=!1;function xn(e){bn=e}function wn(e,t){if(e){if(!bn&&(0===e.a||0===t))return;var r=e.a;return t=void 0===t?1:t,0===r?"transparent":"rgba("+Math.round(255*e.r/r)+","+Math.round(255*e.g/r)+","+Math.round(255*e.b/r)+","+r*t+")"}return e}var kn=/^([^]*)\{(.*)\}([^]*)$/;function zn(e,t){var r;do{if(r=e.match(kn)){var n=t[r[2]]||"";e=r[1]+n+r[3]}}while(r);return e}var Sn=!1;function qn(e){void 0===e&&(e=!1),Sn=e}function _n(e,t,l,p,c,f,y){if(void 0===p&&(p=Jr),void 0===c&&(c=void 0),void 0===f&&(f=void 0),void 0===y&&(y=void 0),"string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");var d,m;if(f)if("undefined"!=typeof Image){var h=new Image;h.crossOrigin="anonymous",h.onload=function(){d=h,m=[h.width,h.height],e.changed(),h.onload=null},h.src=f}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var v=self;v.postMessage({action:"loadImage",src:f}),v.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===f&&(d=e.data.image,m=[d.width,d.height])}))}for(var g,b=function(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Dr(e[n],t[e[n].ref]));return e}(t.layers),x={},w=[],k={},z={},S={},q={},_=0,j=b.length;_<j;++_){var M=b[_],T=M.id;if("string"==typeof l&&M.source==l||-1!==l.indexOf(T)){var E=M["source-layer"];if(g){if(M.source!==g)throw new Error('Layer "'+T+'" does not use source "'+g)}else{g=M.source;var C=t.sources[g];if(!C)throw new Error('Source "'+g+'" is not defined');var A=C.type;if("vector"!==A&&"geojson"!==A)throw new Error('Source "'+g+'" is not of type "vector" or "geojson", but "'+A+'"')}var I=x[E];I||(I=[],x[E]=I),I.push({layer:M,index:_}),w.push(T)}}var F=new o,D=new n,O=[],P=function(t,l){var f=t.getProperties(),h=x[f.layer];if(h){var v=p.indexOf(l);-1==v&&(v=function(e,t){for(var r=0,n=t.length;r<n;++r)if(t[r]<e&&r+1<n){var i=t[r]/t[r+1];return r+Math.log(t[r]/e)/Math.log(i)}return n-1}(l,p));for(var g,b=yn[t.getGeometry().getType()],w={properties:f,type:b},_=e.get("mapbox-featurestate")[t.getId()],j=-1,M=0,T=h.length;M<T;++M){var E=h[M],C=E.layer,A=C.id,I=C.layout||mn,P=C.paint||mn;if(!("none"===I.visibility||"minzoom"in C&&v<C.minzoom||"maxzoom"in C&&v>=C.maxzoom)){var N=C.filter;if(!N||gn(A,N,w,v,q)){g=C;var L=void 0,R=void 0,V=void 0,U=void 0,G=void 0,J=void 0,W=E.index;if(3==b&&("fill"==C.type||"fill-extrusion"==C.type))if(R=vn(C,"paint",C.type+"-opacity",v,w,S,_),C.type+"-pattern"in P){var Z=vn(C,"paint",C.type+"-pattern",v,w,S,_);if(Z){var B="string"==typeof Z?zn(Z,f):Z.toString();if(d&&c&&c[B]){++j,(J=O[j])&&J.getFill()&&!J.getStroke()&&!J.getText()||(J=new s({fill:new n}),O[j]=J),V=J.getFill(),J.setZIndex(W);var $=B+"."+R,X=z[$];if(!X){var H=c[B],Y=Wr(H.width,H.height),K=Y.getContext("2d");K.globalAlpha=R,K.drawImage(d,H.x,H.y,H.width,H.height,0,0,H.width,H.height),X=K.createPattern(Y,"repeat"),z[$]=X}V.setColor(X)}}}else L=wn(vn(C,"paint",C.type+"-color",v,w,S,_),R),C.type+"-outline-color"in P&&(G=wn(vn(C,"paint",C.type+"-outline-color",v,w,S,_),R)),G||(G=L),(L||G)&&(++j,(!(J=O[j])||L&&!J.getFill()||!L&&J.getFill()||G&&!J.getStroke()||!G&&J.getStroke()||J.getText())&&(J=new s({fill:L?new n:void 0,stroke:G?new o:void 0}),O[j]=J),L&&(V=J.getFill()).setColor(L),G&&((U=J.getStroke()).setColor(G),U.setWidth(.5)),J.setZIndex(W));if(1!=b&&"line"==C.type){L=!("line-pattern"in P)&&"line-color"in P?wn(vn(C,"paint","line-color",v,w,S,_),vn(C,"paint","line-opacity",v,w,S,_)):void 0;var Q=vn(C,"paint","line-width",v,w,S,_);L&&Q>0&&(++j,(J=O[j])&&J.getStroke()&&!J.getFill()&&!J.getText()||(J=new s({stroke:new o}),O[j]=J),(U=J.getStroke()).setLineCap(vn(C,"layout","line-cap",v,w,S,_)),U.setLineJoin(vn(C,"layout","line-join",v,w,S,_)),U.setMiterLimit(vn(C,"layout","line-miter-limit",v,w,S,_)),U.setColor(L),U.setWidth(Q),U.setLineDash(P["line-dasharray"]?vn(C,"paint","line-dasharray",v,w,S,_).map((function(e){return e*Q})):null),J.setZIndex(W))}var ee=!1,te=null,re=0,ne=void 0,ie=void 0,ae=void 0;if((1==b||2==b)&&"icon-image"in I){var oe=vn(C,"layout","icon-image",v,w,S,_);if(oe){ne="string"==typeof oe?zn(oe,f):oe.toString();var se=void 0;if(d&&c&&c[ne]){var ue=vn(C,"layout","icon-rotation-alignment",v,w,S,_);if(2==b){var le=t.getGeometry();if(le.getFlatMidpoint||le.getFlatMidpoints){var pe=le.getExtent();if(Math.sqrt(Math.max(Math.pow((pe[2]-pe[0])/l,2),Math.pow((pe[3]-pe[1])/l,2)))>150){var ce="MultiLineString"===le.getType()?le.getFlatMidpoints():le.getFlatMidpoint();if(fn||(fn=new a("Point",cn=[NaN,NaN],[],{},null)),se=fn,cn[0]=ce[0],cn[1]=ce[1],"line"===vn(C,"layout","symbol-placement",v,w,S,_)&&"map"===ue)for(var fe=le.getStride(),ye=le.getFlatCoordinates(),de=0,me=ye.length-fe;de<me;de+=fe){var he=ye[de],ve=ye[de+1],ge=ye[de+fe],be=ye[de+fe+1],xe=Math.min(he,ge),we=Math.min(ve,be),ke=Math.max(he,ge),ze=Math.max(ve,be);if(ce[0]>=xe&&ce[0]<=ke&&ce[1]>=we&&ce[1]<=ze){re=Math.atan2(ve-be,ge-he);break}}}}}if(2!==b||se){var Se=vn(C,"layout","icon-size",v,w,S,_),qe=void 0!==P["icon-color"]?vn(C,"paint","icon-color",v,w,S,_):null;if(!qe||0!==qe.a){var _e=ne+"."+Se;if(null!==qe&&(_e+="."+qe),!(ie=k[_e])){var je=c[ne];ie=new i({color:qe?[255*qe.r,255*qe.g,255*qe.b,qe.a]:void 0,img:d,imgSize:m,size:[je.width,je.height],offset:[je.x,je.y],rotateWithView:"map"===ue,scale:Se/je.pixelRatio,displacement:"icon-offset"in I?vn(C,"layout","icon-offset",v,w,S,_).map((function(e){return-e*je.pixelRatio})):void 0}),k[_e]=ie}}ie&&(++j,(J=O[j])&&J.getImage()&&!J.getFill()&&!J.getStroke()||(J=new s,O[j]=J),J.setGeometry(se),ie.setRotation(re+Gr(vn(C,"layout","icon-rotate",v,w,S,_))),ie.setOpacity(vn(C,"paint","icon-opacity",v,w,S,_)),ie.setAnchor(dn[vn(C,"layout","icon-anchor",v,w,S,_)]),J.setImage(ie),te=J.getText(),J.setText(void 0),J.setZIndex(W),ee=!0,ae=!1)}else ae=!0}}}if(1==b&&"circle"===C.type){++j,(J=O[j])&&J.getImage()&&!J.getFill()&&!J.getStroke()||(J=new s,O[j]=J);var Me="circle-radius"in P?vn(C,"paint","circle-radius",v,w,S,_):5,Te=wn(vn(C,"paint","circle-stroke-color",v,w,S,_),vn(C,"paint","circle-stroke-opacity",v,w,S,_)),Ee=wn(vn(C,"paint","circle-color",v,w,S,_),vn(C,"paint","circle-opacity",v,w,S,_)),Ce=vn(C,"paint","circle-stroke-width",v,w,S,_),Ae=Me+"."+Te+"."+Ee+"."+Ce;(ie=k[Ae])||(ie=new r({radius:Me,stroke:Te&&Ce>0?new o({width:Ce,color:Te}):void 0,fill:Ee?new n({color:Ee}):void 0}),k[Ae]=ie),J.setImage(ie),te=J.getText(),J.setText(void 0),J.setGeometry(void 0),J.setZIndex(W),ee=!0}var Ie=void 0,Fe=void 0,De=void 0,Oe=void 0,Pe=void 0,Ne=void 0;if("text-field"in I){Oe=Math.round(vn(C,"layout","text-size",v,w,S,_));var Le=vn(C,"layout","text-font",v,w,S,_);De=vn(C,"layout","text-line-height",v,w,S,_),(Fe=Or(y?y(Le):Le,Oe,De)).includes("sans-serif")||(Fe+=",sans-serif"),Pe=vn(C,"layout","text-letter-spacing",v,w,S,_),Ne=vn(C,"layout","text-max-width",v,w,S,_);var Re=vn(C,"layout","text-field",v,w,S,_);Ie="object"==typeof Re&&Re.sections?1===Re.sections.length?Re.toString():Re.sections.reduce((function(e,t,r){var n=t.fontStack?t.fontStack.split(","):Le,i=Or(y?y(n):n,Oe*(t.scale||1),De),a=t.text;if("\n"===a)return e.push("\n",""),e;if(2!=b){for(var o=0,s=(a=nn(a,i,Ne,Pe).split("\n")).length;o<s;++o)o>0&&e.push("\n",""),e.push(a[o],i);return e}e.push(Qr(a,Pe),i)}),[]):zn(Re,f).trim(),R=vn(C,"paint","text-opacity",v,w,S,_)}if(Ie&&R&&!ae){ee||(++j,(J=O[j])&&J.getText()&&!J.getFill()&&!J.getStroke()||(J=new s,O[j]=J),J.setImage(void 0),J.setGeometry(void 0)),J.getText()||J.setText(te||new u({padding:[2,2,2,2]})),te=J.getText();var Ve=I["text-transform"];"uppercase"==Ve?Ie=Array.isArray(Ie)?Ie.map((function(e,t){return t%2?e:e.toUpperCase()})):Ie.toUpperCase():"lowercase"==Ve&&(Ie=Array.isArray(Ie)?Ie.map((function(e,t){return t%2?e:e.toLowerCase()})):Ie.toLowerCase());var Ue=Array.isArray(Ie)?Ie:2==b?Qr(Ie,Pe):nn(Ie,Fe,Ne,Pe);te.setText(Ue),te.setFont(Fe),te.setRotation(Gr(vn(C,"layout","text-rotate",v,w,S,_)));var Ge=vn(C,"layout","text-anchor",v,w,S,_),Je=ee||1==b?"point":vn(C,"layout","symbol-placement",v,w,S,_);te.setPlacement(Je),te.setOverflow("point"===Je);var We=vn(C,"paint","text-halo-width",v,w,S,_),Ze=vn(C,"layout","text-offset",v,w,S,_),Be=vn(C,"paint","text-translate",v,w,S,_),$e=0,Xe=0;if("point"==Je){var He="center";-1!==Ge.indexOf("left")?(He="left",Xe=We):-1!==Ge.indexOf("right")&&(He="right",Xe=-We),te.setTextAlign(He);var Ye=vn(C,"layout","text-rotation-alignment",v,w,S,_);te.setRotateWithView("map"==Ye)}else te.setMaxAngle(Gr(vn(C,"layout","text-max-angle",v,w,S,_))*Ie.length/Ue.length),te.setTextAlign(),te.setRotateWithView(!1);var Ke="middle";0==Ge.indexOf("bottom")?(Ke="bottom",$e=-We-.5*(De-1)*Oe):0==Ge.indexOf("top")&&(Ke="top",$e=We+.5*(De-1)*Oe),te.setTextBaseline(Ke),te.setOffsetX(Ze[0]*Oe+Xe+Be[0]),te.setOffsetY(Ze[1]*Oe+$e+Be[1]),D.setColor(wn(vn(C,"paint","text-color",v,w,S,_),R)),te.setFill(D);var Qe=wn(vn(C,"paint","text-halo-color",v,w,S,_),R);if(Qe){F.setColor(Qe),We*=2;var et=.5*Oe;F.setWidth(We<=et?We:et),te.setStroke(F)}else te.setStroke(void 0);var tt=vn(C,"layout","text-padding",v,w,S,_),rt=te.getPadding();tt!==rt[0]&&(rt[0]=tt,rt[1]=tt,rt[2]=tt,rt[3]=tt),J.setZIndex(W)}}}}return j>-1?(O.length=j+1,Sn&&("function"==typeof t.set?t.set("mapbox-layer",g):t.getProperties()["mapbox-layer"]=g),O):void 0}};return e.setStyle(P),e.set("mapbox-source",g),e.set("mapbox-layers",w),e.set("mapbox-featurestate",{}),P}var jn=S(198),Mn=S(993),Tn=S(195),En=S(895),Cn=S(491),An=S(561),In=S(255),Fn=S(31),Dn=S(984),On=S(729),Pn=S(744),Nn=S(757),Ln=S(860);function Rn(e,t){return t.accessToken||(t=(0,Nr.assign)({},t),new URL(e).searchParams.forEach((function(e,r){t.accessToken=e,t.accessTokenParam=r}))),t}function Vn(e,t,r,n,i){var a,o,s;return void 0===r&&(r=""),void 0===n&&(n={}),void 0===i&&(i=void 0),"string"==typeof n?(a=n,s={}):(a=n.styleUrl,s=n),i||(i=s.resolutions),a||"string"!=typeof t||t.trim().startsWith("{")||(a=t),a&&(a=a.startsWith("data:")?location.href:Vr(a,s.accessToken),s=Rn(a,s)),new Promise((function(n,u){$r(t,s).then((function(t){if(8!=t.version)return u(new Error("glStyle version 8 required."));if(!(e instanceof In||e instanceof Dn))return u(new Error("Can only apply to VectorLayer or VectorTileLayer"));var l,p,c,f=e instanceof Dn?"vector":"geojson";if(r?o=Array.isArray(r)?t.layers.find((function(e){return e.id===r[0]})).source:r:(o=Object.keys(t.sources).find((function(e){return t.sources[e].type===f})),r=o),!o)return u(new Error("No "+f+" source found in the glStyle."));function y(){if(e instanceof Dn)return $n(t.sources[o],a,s).then((function(t){var r=e.getSource();if(r?t!==r&&(r.setTileUrlFunction(t.getTileUrlFunction()),r.format_||(r.format_=t.format_),r.getAttributions()||r.setAttributions(t.getAttributions()),r.getTileLoadFunction()===On.defaultLoadFunction&&r.setTileLoadFunction(t.getTileLoadFunction()),(0,Ln.equivalent)(r.getProjection(),t.getProjection())&&(r.tileGrid=t.getTileGrid())):e.setSource(t),!isFinite(e.getMaxResolution())&&!isFinite(e.getMinZoom())){var n=e.getSource().getTileGrid();e.setMaxResolution(n.getResolution(n.getMinZoom()))}}));var r=Kn(t.sources[o],a,s),n=e.getSource();return n?r!==n&&(n.getAttributions()||n.setAttributions(r.getAttributions()),n.format_||(n.format_=r.getFormat()),n.url_=r.getUrl()):e.setSource(r),Promise.resolve()}function d(){c||t.sprite&&!l?c?(e.setStyle(c),y().then(n).catch(u)):u(new Error("Something went wrong trying to apply style.")):(c=_n(e,t,r,i,l,p,pn),e.getStyle()?y().then(n).catch(u):u(new Error("Nothing to show for source ["+o+"]")))}if(t.sprite){var m=new URL(function(e,t,r){var n=Rr(e);if(!n)return decodeURI(new URL(e,r).href);var i="sprites/";if(0!==n.indexOf(i))throw new Error("unexpected sprites url: "+e);var a=n.slice(i.length);return Lr+"/styles/v1/"+a+"/sprite?access_token="+t}(t.sprite,s.accessToken,a||location.href)),h=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",v=m.origin+m.pathname+h+".json"+m.search;new Promise((function(e,t){Br("Sprite",v,s).then(e).catch((function(r){Br("Sprite",v=m.origin+m.pathname+".json"+m.search,s).then(e).catch(t)}))})).then((function(e){void 0===e&&u(new Error("No sprites found.")),l=e,p=m.origin+m.pathname+h+".png"+m.search,d()})).catch((function(e){u(new Error("Sprites cannot be loaded: "+v+": "+e.message))}))}else d()})).catch(u)}))}var Un={};function Gn(e,t){var r={id:t.id,type:t.type},n={};function i(i){var a=t.layout||{},o=t.paint||{};r.paint=o;var s,u,l="function"==typeof e.getSource?e.getSource().getTileGrid().getZForResolution(i):e.getView().getZoom(),p="function"==typeof e.getTargetElement?e.getTargetElement():void 0;if(void 0!==o["background-color"]&&(s=vn(r,"paint","background-color",l,Un,n),p&&(p.style.background=c.parse(s).toString())),void 0!==o["background-opacity"]&&(u=vn(r,"paint","background-opacity",l,Un,n),p&&(p.style.opacity=u)),"none"!=a.visibility)return wn(s,u);p&&(p.style.backgroundColor="",p.style.opacity="")}if("function"==typeof e.getTargetElement)e.getTargetElement()&&i(),e.on(["change:resolution","change:target"],i);else{if("function"!=typeof e.setBackground)throw new Error("Unable to apply background.");e.setBackground(i)}}function Jn(e,t){t.layers.some((function(t){if("background"===t.type)return Gn(e,t),!0}))}function Wn(e,t,r){return void 0===r&&(r={}),"object"==typeof t?(Jn(e,t),Promise.resolve()):$r(t,r).then((function(t){Jn(e,t)}))}function Zn(e,t){var r;return e.some((function(e){if(e.id==t)return r=e.source,!0})),r}function Bn(e){var t=e.bounds;if(t){var r=(0,Ln.fromLonLat)([t[0],t[1]]),n=(0,Ln.fromLonLat)([t[2],t[3]]);return[r[0],r[1],n[0],n[1]]}}function $n(e,t,r){return new Promise((function(n,i){Hr(e,t,r).then((function(e){var t=new Cn({tileJSON:e}),r=t.getTileJSON(),i=t.getTileGrid(),a=Bn(r),o=r.minzoom||0,s=r.maxzoom||22,u=t.get("ol-source");if(void 0===u){var l={attributions:t.getAttributions(),format:new Mn,tileGrid:new En({origin:i.getOrigin(0),extent:a||i.getExtent(),minZoom:o,resolutions:Jr.slice(0,s+1),tileSize:512})};Array.isArray(r.tiles)?l.urls=r.tiles:l.url=r.tiles,e.olSourceOptions&&Object.assign(l,e.olSourceOptions),u=new On(l),t.set("ol-source",u)}n(u)})).catch(i)}))}function Xn(e,t,r){var n=new Dn({declutter:!0,visible:!1});return $n(e,t,r).then((function(e){n.setSource(e)})).catch((function(e){n.setSource(void 0)})),n}function Hn(e,t,r){var n=new An;return Hr(e,t,r).then((function(t){var r=new Cn({transition:0,crossOrigin:"anonymous",tileJSON:t}),i=Bn(t),a=r.getTileGrid(),o=e.tileSize||t.tileSize||512,s=t.minzoom||0,u=t.maxzoom||22;r.tileGrid=new En({origin:a.getOrigin(0),extent:i||a.getExtent(),minZoom:s,resolutions:(0,Nn.createXYZ)({maxZoom:u,tileSize:o}).getResolutions(),tileSize:o});var l=r.getTileUrlFunction();r.setTileUrlFunction((function(e,t,n){var i=l(e,t,n);if(-1!=i.indexOf("{bbox-epsg-3857}")){var a=r.getTileGrid().getTileCoordExtent(e);i=i.replace("{bbox-epsg-3857}",a.toString())}return i})),n.setSource(r)})).catch((function(e){n.setSource(void 0)})),n}var Yn=new jn;function Kn(e,t,r){var n=e.data,i={};if("string"==typeof n){var a=Ur(n,r.accessToken,r.accessTokenParam||"access_token",t||location.href);if(r.transformRequest){var o=r.transformRequest(a,"GeoJSON");o instanceof Request&&(a=encodeURI(o.url))}i.url=a}else i.features=Yn.readFeatures(n,{featureProjection:(0,Ln.getUserProjection)()||"EPSG:3857"});return new Fn((0,Nr.assign)({attributions:e.attribution,format:Yn},i))}function Qn(e,t,r){return new In({declutter:!0,source:Kn(e,t,r),visible:!1})}function ei(e,t,r,n){var i=vn(e,"paint","raster-opacity",r.getZoom(),Un,n);t.setOpacity(i)}function ti(e,t,r,n){var i=[],a=t.getView();a.isDef()||a.getRotation()||a.getResolutions()||(a=new Pn((0,Nr.assign)(a.getProperties(),{maxResolution:Jr[0]})),t.setView(a)),"center"in e&&!a.getCenter()&&a.setCenter((0,Ln.fromLonLat)(e.center)),"zoom"in e&&void 0===a.getZoom()&&a.setResolution(Jr[0]/Math.pow(2,e.zoom)),a.getCenter()&&void 0!==a.getZoom()||a.fit(a.getProjection().getExtent(),{nearest:!0,size:t.getSize()});for(var o,s,u,l,p,c=e.layers,f=[],y=0,d=c.length;y<d;++y){var m=(o=c[y]).type;if("heatmap"==m||"hillshade"==m)throw new Error(m+" layers are not supported");if("background"==m)Gn(t,o);else{if((l=o.source||Zn(c,o.ref))!=u){if(f.length&&(i.push(ni(p,f,e,r,t,n)),f=[]),"vector"==(s=e.sources[l]).type)p=Xn(s,r,n);else if("raster"==s.type){(p=Hn(s,r,n)).setVisible(!o.layout||"none"!==o.layout.visibility);var h={};a.on("change:resolution",ei.bind(this,o,p,a,h)),ei(o,p,a,h)}else"geojson"==s.type&&(p=Qn(s,r,n));u=l,p&&p.set("mapbox-source",u)}f.push(o.id)}}return i.push(ni(p,f,e,r,t,n)),t.set("mapbox-style",e),Promise.all(i)}function ri(e,t,r){var n;if(void 0===r&&(r={}),("string"==typeof e||e instanceof HTMLElement)&&(e=new Tn({target:e})),"string"==typeof t){var i=t.startsWith("data:")?location.href:Vr(t,r.accessToken);r=Rn(i,r),n=new Promise((function(n,a){$r(t,r).then((function(t){ti(t,e,i,r).then((function(){n(e)})).catch(a)})).catch((function(e){a(new Error("Could not load "+t+": "+e.message))}))}))}else n=new Promise((function(n,i){ti(t,e,"",r).then((function(){n(e)})).catch(i)}));return n}function ni(e,t,r,n,i,a){void 0===a&&(a={});for(var o=24,s=0,u=r.layers,l=0,p=u.length;l<p;++l){var c=u[l];-1!==t.indexOf(c.id)&&(o=Math.min("minzoom"in c?c.minzoom:0,o),s=Math.max("maxzoom"in c?c.maxzoom:24,s))}return new Promise((function(u,l){var p=function(){var i=e.getSource();if(i&&"error"!==i.getState()){if("getTileGrid"in i){var p=i.getTileGrid();if(p){var c=p.getMinZoom();(o>0||c>0)&&e.setMaxResolution(Math.min(Jr[o],p.getResolution(c))+1e-9),s<24&&e.setMinResolution(Jr[s]+1e-9)}}i instanceof Fn||i instanceof On?Vn(e,r,t,(0,Nr.assign)({styleUrl:n},a)).then((function(){e.setVisible(!0),u()})).catch(l):u()}else l(new Error("Error accessing data for source "+e.get("mapbox-source")))};e.set("mapbox-layers",t),-1===i.getLayers().getArray().indexOf(e)&&i.addLayer(e),e.getSource()?p():e.once("change:source",p)}))}function ii(e,t){for(var r=e.getLayers().getArray(),n=0,i=r.length;n<i;++n){var a=r[n].get("mapbox-layers");if(a&&-1!==a.indexOf(t))return r[n]}}function ai(e,t){for(var r=[],n=e.getAllLayers(),i=0,a=n.length;i<a;++i)n[i].get("mapbox-source")===t&&r.push(n[i]);return r}function oi(e,t){for(var r=e.getLayers().getArray(),n=0,i=r.length;n<i;++n){var a=r[n].getSource();if(r[n].get("mapbox-source")===t)return a}}function si(e,t,r){for(var n=("getLayers"in e?ai(e,t.source):[e]),i=0,a=n.length;i<a;++i){var o=n[i].get("mapbox-featurestate");if(!o)throw new Error('Map or layer for source "'+t.source+'" not found.');r?o[t.id]=r:delete o[t.id],n[i].changed()}}function ui(e,t){for(var r=("getLayers"in e?ai(e,t.source):[e]),n=0,i=r.length;n<i;++n){var a=r[n].get("mapbox-featurestate");if(a&&a[t.id])return a[t.id]}return null}})(),q})()));
//# sourceMappingURL=olms.js.map